# HTTPS

## HTTP存在的问题

- 通信使用明文（不加密），内容可能会被窃听
- 不验证通信方的身份，有可能遭遇伪装
- 无法证明报文的完整性，所以有可能遭到篡改

## 密码学基础

1. **对称加密**：

   对称加密又叫做私钥加密，即信息的发送方和接收方使用同一个密钥去加密和解密数据。对称加密的特点是算法公开、加密和解密速度快，适合于对大数据量进行加密，常见的对称加密算法有DES、3DES、TDEA、Blowfish、RC5和IDEA。
   其加密过程如下：明文 + 加密算法 + 私钥 => 密文
   解密过程如下：密文 + 解密算法 + 私钥 => 明文

2. **非对称加密**：

    非对称加密也叫做公钥加密， 非对称加密与对称加密相比，其安全性更好，非对称加密使用一对密钥，即公钥和私钥，且二者成对出现。私钥被自己保存，不能对外泄露。公钥指的是公共的密钥，任何人都可以获得该密钥。用公钥或私钥中的任何一个进行加密，用另一个进行解密。
   被公钥加密过的密文只能被私钥解密，过程如下：
   明文 + 加密算法 + 公钥 => 密文， 密文 + 解密算法 + 私钥 => 明文
   被私钥加密过的密文只能被公钥解密，过程如下：
   明文 + 加密算法 + 私钥 => 密文， 密文 + 解密算法 + 公钥 => 明文




## HTTPS原理

HTTPS = HTTP + SSL/STL

明确地，HTTPS就是HTTP通信接口部分用SSL和TLS协议代替

![image-20200415101050331](C:\Users\姜嘿嘿\AppData\Roaming\Typora\typora-user-images\image-20200415101050331.png)

### SSL的作用

- 对通信加密

   **HTTPS为了兼顾安全与效率，同时使用了对称加密和非对称加密** 

   **据是被对称加密传输的，对称加密过程需要客户端的一个密钥，为了确保能把该密钥安全传输到服务器端，采用非对称加密对该密钥进行加密传输，总的来说，对数据进行对称加密，对称加密所要使用的密钥通过非对称加密传输** 

  数字

- 认证机制（证书）

  数字证书：由数字证书认证机构和其相关机关颁布的公开密钥证明，可以证明公开密钥的正确性

  EV SSL证书：可以证明服务器身份

  确认客户端的客户端证书

- 请求、响应报文的完整性保护

### HTTPS通信过程

一个HTTPS请求实际上包含了两次HTTP传输

![image-20200415193238331](C:\Users\姜嘿嘿\AppData\Roaming\Typora\typora-user-images\image-20200415193238331.png)

