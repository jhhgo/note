# é«˜é˜¶å‡½æ•°æŠ€æœ¯

## é«˜é˜¶å‡½æ•°

é«˜é˜¶å‡½æ•°æ˜¯è‡³å°‘æ»¡è¶³ä¸‹åˆ—ä¸€ä¸ªæ¡ä»¶çš„å‡½æ•°ï¼š

- æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªå‡½æ•°ä½œä¸ºè¾“å…¥
- è¾“å‡ºä¸€ä¸ªå‡½æ•°

## å‡½æ•°ç»„åˆ

å‡½æ•°ç»„åˆå°±æ˜¯å°†ä¸¤ä¸ªæˆ–ä¸¤ä¸ªä»¥ä¸Šçš„å‡½æ•°ç»„åˆç”Ÿæˆä¸€ä¸ªæ–°å‡½æ•°çš„è¿‡ç¨‹

```js
const composeFn = function (f, g) {
  return function (x) {
    return f(g(x))
  }
}
```

ä»¥ä¸Šï¼Œf å’Œ g éƒ½æ˜¯å‡½æ•°ï¼Œx æ˜¯ç»„åˆç”Ÿæˆæ–°å‡½æ•°çš„å‚æ•°

ä½¿ç”¨å‡½æ•°ç»„åˆï¼Œå¯ä»¥è‡ªç”±åœ°å¯¹å‡½æ•°è¿›è¡Œç»„åˆï¼Œæ¥å®ç°ç‰¹å®šå¯¹åŠŸèƒ½

ä¾‹å¦‚ï¼Œé€šè¿‡å‡½æ•°ç»„åˆï¼Œå¯ä»¥å®ç°ä¸€ä¸ªå¤šåŠŸèƒ½å‡½æ•°ï¼Œå…ˆæ‰§è¡Œå»ç©ºæ ¼ï¼Œç„¶åè½¬æ¢æˆå°å†™ï¼Œæœ€åå¯¹å­—ç¬¦ä¸²æ‹†åˆ† ğŸ‘‡

```js
function lowerCase(input) {
  return input && typeof input === 'string' ? input.toLowerCase() : input
}

function trim(input) {
  return typeof input === 'string' ? input.trim() : input
}

function split(input, delimiter = ',') {
  return typeof input === 'string' ? input.split(delimiter) : input
}

const trimLowerCaseAndSplit = compose(trim, lowerCase, split)
trimLowerCaseAndSplit(' a,B,C ') // ["a", "b", "c"]
```

ç»„åˆå‡½æ•° compose å®ç° ğŸ‘‡

```js
function compose(...funcs) {
  return function (x) {
    return funcs.reduce((arg, fn) => {
      return fn(arg)
    }, x)
  }
}
```

## å‡½æ•°æŸ¯é‡ŒåŒ–

æŸ¯é‡ŒåŒ–ï¼ˆCurryingï¼‰æ˜¯ä¸€ç§å¤„ç†å‡½æ•°ä¸­å«æœ‰å¤šä¸ªå‚æ•°çš„æ–¹æ³•ï¼Œåœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­æˆ‘ä»¬èƒ½æŠŠä¸€ä¸ªå¸¦æœ‰å¤šä¸ªå‚æ•°çš„å‡½æ•°è½¬æ¢æˆä¸€ç³»åˆ—çš„åµŒå¥—å‡½æ•°ã€‚å®ƒè¿”å›ä¸€ä¸ªæ–°å‡½æ•°ï¼Œè¿™ä¸ªæ–°å‡½æ•°æœŸæœ›ä¼ å…¥ä¸‹ä¸€ä¸ªå‚æ•°ã€‚å½“æ¥æ”¶è¶³å¤Ÿçš„å‚æ•°åï¼Œä¼šè‡ªåŠ¨æ‰§è¡ŒåŸå‡½æ•°ã€‚

æŸ¯é‡ŒåŒ–å®ç° ğŸ‘‡

```js
function curry(func) {
  return function curried(...args) {
    if (args.length >= func.length) {
      return func.apply(this, args)
    }
    return function (...args2) {
      return curried.apply(this, args.concat(args2))
    }
  }
}
```

æŸ¯é‡ŒåŒ–çš„ä½œç”¨ï¼š

- å‚æ•°å¤ç”¨
- å»¶è¿Ÿè®¡ç®—/è¿è¡Œ

**å‚æ•°å¤ç”¨**

```js
function buildUri(scheme, domain, path) {
  return `${scheme}://${domain}/${path}`
}
const profilePath = buildUri('https', 'github.com', 'jhhgo')
const awesomeTsPath = buildUri(
  'https',
  'github.com',
  'jhhgo/note'
)
```

åœ¨ä»¥ä¸Šä»£ç ä¸­ï¼Œé¦–å…ˆæˆ‘ä»¬å®šä¹‰äº†ä¸€ä¸ª buildUri å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ç”¨äºæ„å»º uri åœ°å€ã€‚æ¥ç€æˆ‘ä»¬ä½¿ç”¨ buildUri å‡½æ•°æ„å»ºäº†jhhgo Github ä¸ªäººä¸»é¡µ å’Œ note é¡¹ç›®çš„åœ°å€ã€‚å¯¹äºä¸Šè¿°çš„ uri åœ°å€ï¼Œæˆ‘ä»¬å‘ç° https å’Œ github.com è¿™ä¸¤ä¸ªå‚æ•°å€¼æ˜¯ä¸€æ ·çš„

åˆ©ç”¨æŸ¯é‡ŒåŒ–ä½¿å‚æ•°å¤ç”¨ğŸ‘‡

```js
const buildUriCurry = curry(buildUri);
const pulicGithubPath = buildUriCurry('https', 'github.com')
const profilePath = myGithubPath("jhhgo");
const notePath = myGithubPath("jhhgo/note");
```

**å»¶è¿Ÿè®¡ç®—/è¿è¡Œ**

```js
const add = function (a, b) {
  return a + b;
};

const curried = curry(add);
const plusOne = curried(1);
```

## åå‡½æ•°åº”ç”¨

åå‡½æ•°åº”ç”¨ä¸å‡½æ•°æŸ¯é‡ŒåŒ–çš„åŒºåˆ«ï¼š
  - åå‡½æ•°åº”ç”¨æ˜¯å›ºå®šä¸€ä¸ªå‡½æ•°çš„ä¸€ä¸ªæˆ–å¤šä¸ªå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªå¯ä»¥æ¥æ”¶å‰©ä½™å‚æ•°çš„å‡½æ•°
  - æŸ¯é‡ŒåŒ–æ˜¯å°†å‡½æ•°è½¬åŒ–ä¸ºå¤šä¸ªåµŒå¥—çš„ä¸€å…ƒå‡½æ•°ï¼Œä¹Ÿå°±æ˜¯æ¯ä¸ªå‡½æ•°åªæ¥æ”¶ä¸€ä¸ªå‚æ•°

åå‡½æ•°å®ç°ğŸ‘‡

```js
function partial(fn) {
  let args = [].slice.call(arguments, 1)
  return function(...args2) {
    let newArgs = args.concat(args2)
    return fn.apply(this, newArgs)
  }
}
```

## æƒ°æ€§å‡½æ•°