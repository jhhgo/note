# 设计模式

## 评价代码质量好坏的七个维度

-   可维护性: 所谓代码易维护就是指，在不破坏原油代码设计、不引入新的 bug 的情况下，能够快速地修改或者添加代码。

-   可读性:

-   可扩展性

-   灵活性

-   简洁性

-   可复用性

-   可测试性

## 面向对象

### 面向对象编程和面向对象编程语言

**面向对象编程**

面向对象编程是一种编程范式或编程风格。它以类或对象作为组织代码的基本单元，并将`封装`、`抽象`、`继承`、`多态`四个特性，作为代码设计和实现的基石。

**面向对象编程语言**

### 封装

封装也叫作信息隐藏或数据访问保护。类通过暴露有限的访问接口，授权外部只能通过类提供的方式来访问内部信息或者数据。需要编程语言提供权限访问控制语法。

封装特性存在的意义，一方面是保护数据不被随意修改，提高代码的可维护性；另一方面是仅暴露有限的必要接口，提高类的易用性。

### 抽象

抽象就是讲如何隐藏方法的具体实现，让使用者只需要关心方法提供了哪些功能，不需要知道这些功能是如何实现的。

抽象存在的意义，一方面是提高代码的可扩展性、维护性，修改实现不需要改变定义，减少代码的改动范围；另一方面，它也是处理复杂系统的有效手段，能有效地过滤掉不必要关注的信息。

### 继承

继承是用来表示类之间的 is-a 关系，分为两种模式：单继承和多继承。单继承表示一个子类只继承一个父类，多继承表示一个子类可以继承多个父类。

继承主要是用来解决代码复用的问题。

### 多态

多态是指子类可以替换父类，在实际的代码运行过程中，调用子类的方法实现。多态这种特性也需要编程语言提供特殊的语法机制来实现，比如继承、接口类、`duck-typing`。

多态可以提高代码的扩展性和复用性，是很多设计模式、设计原则、编程技巧的代码实现基础。

由于 javascript 的动态语言的机制，实现多态不需要特殊的语法支持。

一段 js 代码 👇

```js
class Logger {
	record() {
		console.log("I write a log into file");
	}
}

class DB {
	record() {
		console.log("I insert data into db");
	}
}

function test(recorder) {
	recorder.record();
}

const logger = new Logger();
const db = new DB();
test(logger);
test(db);
```

从这段代码中，我们发现，duck-typing 实现多态的方式非常灵活。Logger 和 DB 两个类没有任何关系，既不是继承关系，也不是接口和实现的关系，但是只要它们都有定义了`record()`方法，就可以被传递到`test()`方法中，在实际运行的时候，执行对应的`record()`方法。
